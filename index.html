<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Visualiseur PDF</title>
</head>
<body>
  <h1>Visualiseur PDF.js - Toutes les pages</h1>
  <div id="pdf-container"></div>

  <script type="module">
    import { pdfjsLib } from 'https://mozilla.github.io/pdf.js/build/pdf.mjs';

    // URL de ton PDF sur GitHub (raw)
    const url = 'https://raw.githubusercontent.com/SylvainBTL/portfolio/5b4efef64fbf24ad84a01be004638f0b611c3206/Portfolio-SylvainBoutoille-2025.pdf';

    // Worker PDF.js
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://mozilla.github.io/pdf.js/build/pdf.worker.mjs';

    const container = document.getElementById('pdf-container');

    // Charger le PDF
    pdfjsLib.getDocument(url).promise.then(pdf => {
      console.log(`PDF chargé avec ${pdf.numPages} pages.`);

      for (let pageNumber = 1; pageNumber <= pdf.numPages; pageNumber++) {
        pdf.getPage(pageNumber).then(page => {
          const scale = 1.5;
          const viewport = page.getViewport({ scale });

          // Créer un canvas pour chaque page
          const canvas = document.createElement('canvas');
          const context = canvas.getContext('2d');
          canvas.height = viewport.height;
          canvas.width = viewport.width;
          container.appendChild(canvas);

          // Rendu de la page
          page.render({ canvasContext: context, viewport }).promise.then(() => {
            console.log(`Page ${pageNumber} rendue`);
          });
        });
      }
    }).catch(err => console.error(err));
  </script>
</body>
</html>
